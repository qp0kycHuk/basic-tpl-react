.checkbox {
  width  : 0;
  height : 0;
  opacity: 0;
}

.toggle {
  --width      : 1em;
  --padding    : 2px;
  --height     : calc(var(--width) / 2 + var(--padding));

  display      : inline-block;
  position     : relative;
  width        : var(--width);
  height       : var(--height);
  overflow     : hidden;
  background   : #211042;
  border-radius: var(--height);
  
  cursor       : pointer;
  transition   : background 500ms;
}

.button {
  --size  : calc(var(--height) - var(--padding) * 2);
  display : inline-block;
  position: absolute;
  top     : var(--padding);
  left    : var(--padding);

  width        : var(--size);
  height       : var(--size);
  overflow     : hidden;
  background   : #FAEAF1;
  border-radius: 50%;
  box-shadow   : 0 0 15px 4px rgba(255, 255, 255);
  transition   : all .3s ease-out;
}

.crater {
  display      : inline-block;
  position     : absolute;
  background   : #FAEAF1;
  border-radius: 50%;
  transition   : 500ms;
}

.crater-1 {
  bottom    : 10%;
  left      : 10%;
  width     : 100%;
  height    : 100%;
  background: #FFFFF9;
}

.crater-2 {
  top   : -10%;
  left  : 50%;
  width : 25%;
  height: 25%;
}

.crater-3 {
  top   : 25%;
  right : -5%;
  width : 20%;
  height: 20%;
}

.crater-4 {
  top   : 30%;
  left  : 35%;
  width : 20%;
  height: 20%;
}

.crater-5 {
  top   : 50%;
  left  : 60%;
  width : 20%;
  height: 20%;
}

.crater-6 {
  top   : 60%;
  left  : 20%;
  width : 15%;
  height: 15%;
}

.crater-7 {
  bottom: 5%;
  left  : 45%;
  width : 15%;
  height: 15%;
}

.star {
  display      : inline-block;
  position     : absolute;
  background   : #FFF;
  border-radius: 50%;
  box-shadow   : 0 0 2px 1px rgba(255, 255, 255, 0.5);
}

.star-1 {
  right : 39%;
  bottom: 40%;
  width : 5%;
  height: 9%;
}

.star-2 {
  top: 52%;
  right: 9%;
  width : 5%;
  height: 9%;
}

.star-3 {
  right: 30%;
  bottom: 18%;
  width : 2%;
  height: 4%;
}

.star-4 {
  right: 35%;
  bottom: 75%;
  width : 2%;
  height: 4%;
}

.star-5 {
  right : 18.5%;
  bottom: 60%;
  width : 2%;
  height: 4%;
}

.star-6,
.star-7,
.star-8 {
  width                    : 7%;
  height                   : 5%;
  border-radius            : 50%;
  box-shadow               : 5px 0px 4px 1px #FFF;
  transform                : rotate(-45deg);
  animation-name           : travel;
  animation-duration       : 1.5s;
  animation-timing-function: ease-out;
  animation-iteration-count: infinite;
}

.star-6 {
  right          : 17%;
  bottom         : 35%;
  animation-delay: -2s;
}

.star-7 {
  right : 30%;
  bottom: 70%;
}

.star-8 {
  top            : 15%;
  right          : 40%;
  animation-delay: -4s;
}

@keyframes travel {
  0% {
    transform: rotate(-45deg) translateX(70px);
  }

  50% {
    box-shadow: 5px 0px 6px 1px #FFF;
    transform : rotate(-45deg) translateX(-20px);
  }

  100% {
    width     : 2px;
    height    : 2px;
    box-shadow: none;
    opacity   : 0;
    transform : rotate(-45deg) translateX(-30px);
  }
}

.checkbox:checked+.toggle {
  background: #24D7F7;
}

.checkbox:checked+.toggle .button {
  background: #F7FFFF;
  box-shadow: 0 0 calc(3 * var(--height) / 4) calc(var(--height) / 5) rgba(255, 255, 255);
  transform : translateX(100%);
}

.checkbox:checked+.toggle .button .crater {
  transform: rotate(-45deg) translateX(var(--height));
}

.checkbox:checked+.toggle .star {
  box-shadow: none;
  transform : none;
  animation : move 4s infinite;
}

.checkbox:checked+.toggle .star-1 {
  top          : 30%;
  left         : 12%;
  width        : 25%;
  height       : 10%;
  background   : #FFF;
  border-radius: 50%;
  box-shadow   : none;
}

.checkbox:checked+.toggle .star-2 {
  top       : 25%;
  left      : 15%;
  width     : 7.5%;
  height    : 15%;
  background: #FFF;
  box-shadow: -1px 0 2px 0 rgba(0, 0, 0, 0.1);
}

.checkbox:checked+.toggle .star-3 {
  top       : 25%;
  left      : 20%;
  width     : 10%;
  height    : 20%;
  background: #FFF;
  box-shadow: -1px 0 2px 0 rgba(0, 0, 0, 0.1);
}

.checkbox:checked+.toggle .star-4 {
  top       : 25%;
  left      : 25%;
  width     : 7.5%;
  height    : 15%;
  background: #FFF;
  box-shadow: -1px 0 2px 0 rgba(0, 0, 0, 0.1);
}

.checkbox:checked+.toggle .star-5 {
  bottom       : 25%;
  left         : 15%;
  width        : 37%;
  height       : 20%;
  background   : #FFF;
  border-radius: 50%;
  box-shadow   : none;
}

.checkbox:checked+.toggle .star-6 {
  bottom       : 20%;
  left         : 24%;
  width        : 10%;
  height       : 20%;
  background   : #FFF;
  border-radius: 50%;
  box-shadow   : -1px 0 2px 0 rgba(0, 0, 0, 0.1);
}

.checkbox:checked+.toggle .star-7 {
  bottom       : 25%;
  left         : 30%;
  width        : 15%;
  height       : 30%;
  background   : #FFF;
  border-radius: 50%;
  box-shadow   : -1px 0 2px 0 rgba(0, 0, 0, 0.1);
}

.checkbox:checked+.toggle .star-8 {
  top          : 48%;
  left         : 38%;
  width        : 10%;
  height       : 20%;
  background   : #FFF;
  border-radius: 50%;
  box-shadow   : -1px 0 2px 0 rgba(0, 0, 0, 0.1);
}

@keyframes move {
  0% {
    transform: none;
  }

  50% {
    transform: translateX(-10%);
  }

  100% {
    transform: none;
  }
}